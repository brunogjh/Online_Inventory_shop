packages:
  rpm:
    epel: https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
  yum:
    php-pecl-redis: [] 
    bison: []
    byacc: []
    cscope: []
    ctags: []
    cvs: []
    diffstat: []
    doxygen: []
    flex: []
    gcc: []
    gcc-c++: []
    gcc-gfortran: []
    gettext: []
    git: []
    indent: []
    intltool: []
    libtool: []
    patch: []
    patchutils: []
    rcs: []
    subversion: []
    swig: []
    systemtap: []
    make: []
    

sources:
  /home/ec2-user: https://pecl.php.net/get/redis-5.3.3.tgz
commands:
  initial: 
    command: tar -zxvf redis-5.3.3.tgz
    cwd: /home/ec2-user
  redis_config_000:
    command: phpize
    cwd: /home/ec2-user/redis-5.3.3
  redis_config_001:
    command: ./configure
    cwd: /home/ec2-user/redis-5.3.3
  redis_config_002:
    command: make
    cwd: /home/ec2-user/redis-5.3.3
  redis_config_003:
    command: sudo make install
    cwd: /home/ec2-user/redis-5.3.3
  redis_config_004:
    command: sed -i '/redis.so/d' /etc/php.ini
    cwd: /home/ec2-user/redis-5.3.3
  redis_config_005:
    command: echo "extension=redis.so" | sudo tee /etc/php.d/40-redis.ini
    cwd: /home/ec2-user/redis-5.3.3
  restart-redis:
    command: sudo systemctl restart php-fpm
    cwd: /home/ec2-user/redis-5.3.3


